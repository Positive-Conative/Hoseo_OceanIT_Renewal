<%- include('include/header.ejs') %>

<link href="/stylesheets/index.css" rel="stylesheet" />

  <section>
    <div id="indexbg">
      <div id="indexbg_text">
        <h1 class="fs-1">해양 IT 연구소에 오신것을<br>진심으로 환영합니다</h1>
        <div>해양IT 연구소는 항상 더 나은 미래를 위한 <br>연구를 진행하고 있습니다.</div>
      </div>
    </div>
    
    <h1 class="mt-5 text-center">Members</h1>
    <div class="card-group m-3">
      <%for(var key in db_results.member){%>
        <div class="card m-1 border border-1">
          <img
            src="/images/members/<%= db_results.member[key].photo %>"
            class="card-img-top rounded">
          <div class="card-body">
            <h5 class="card-title"><%=db_results.member[key].name_ko%></h5>
            <p class="card-text"><%= db_results.member[key].position_ko%></p>
          </div>
  
          <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#memberModal"
          data-name="<%= db_results.member[key].name_ko %>" data-department="<%= db_results.member[key].department_ko %>"
          data-position="<%= db_results.member[key].position_ko %>" data-phone="<%= db_results.member[key].phone %>"
          data-email="<%= db_results.member[key].email %>" data-bachelor="<%= db_results.member[key].bachelor_ko %>"
          data-master="<%= db_results.member[key].master_ko %>" data-doctor="<%= db_results.member[key].doctor_ko %>"
          data-photo="/images/members/<%= db_results.member[key].photo %>">Detail</button>
        </div>
      <%}%>
      

    </div>
  </section>

  <section>
    <div class="px-3">
      <div class="row gx-13">
        <div class="col-lg text-center mt-5">
          <h4>Research Fields</h4>
          <table class="table table-striped table-hover table-bordered ">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">First</th>
                <th scope="col">Last</th>
                <th scope="col">Handle</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">1</th>
                <td>Mark</td>
                <td>Otto</td>
                <td>@mdo</td>
              </tr>
              <tr>
                <th scope="row">2</th>
                <td>Jacob</td>
                <td>Thornton</td>
                <td>@fat</td>
              </tr>
              <tr>
                <th scope="row">3</th>
                <td colspan="2">Larry the Bird</td>
                <td>@twitter</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-lg text-center mt-5">
          <h4>Research Results</h4>
          <table class="table table-striped table-hover table-bordered">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">First</th>
                <th scope="col">Last</th>
                <th scope="col">Handle</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">1</th>
                <td>Mark</td>
                <td>Otto</td>
                <td>@mdo</td>
              </tr>
              <tr>
                <th scope="row">2</th>
                <td>Jacob</td>
                <td>Thornton</td>
                <td>@fat</td>
              </tr>
              <tr>
                <th scope="row">3</th>
                <td colspan="2">Larry the Bird</td>
                <td>@twitter</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- MODAL -->
    <div class="modal fade" id="memberModal" tabindex="-1" aria-labelledby="memberModalLabel" aria-hidden="true">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                  <h5 class="modal-title" id="memberModalLabel"> </h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                  </button>
              </div>
              <div class="modal-body">
                  <img id="photo_modaltable" class="rounded mx-auto d-block mb-5" style="width:50%;">
                  <table class="table">
                      <thead>
                          <tr>
                              <th scope="col">＼</th>
                              <th scope="row">내 용</th>
                          </tr>
                      </thead>

                      <tbody>
                          <tr>
                              <th scope="row">이름</th>
                              <td id="name_modaltable"></td>
                          </tr>
                          <tr>
                              <th scope="row">학부</th>
                              <td id="department_modaltable"></td>
                          </tr>
                          <tr>
                              <th scope="row">참여</th>
                              <td id="position_modaltable"></td>
                          </tr>
                          <tr>
                              <th scope="row">전화번호</th>
                              <td id="phone_modaltable"></td>
                          </tr>
                          <tr>
                              <th scope="row">이메일</th>
                              <td id="email_modaltable"></td>
                          </tr>
                      </tbody>
                  </table>
                  <hr color=black>
                  <table class="table">
                      <thead>
                          <tr>
                              <th scope="col">＼</th>
                              <th scope="row">학 적</th>
                          </tr>
                      </thead>
                      <tbody>
                          <tr>
                              <th scope="row">학위</th>
                              <td id="bachelor_modaltable" style="white-space:pre;"></td>
                          </tr>
                          <tr>
                              <th scope="row">학부</th>
                              <td id="master_modaltable"></td>
                          </tr>
                          <tr>
                              <th scope="row">대학명</th>
                              <td id="doctor_modaltable"></td>
                          </tr>
                      </tbody>
                  </table>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              </div>
          </div>
      </div>
  </div>
  </section>
  <style>
    .card>img {
        height: 20vw;
        border-radius: 90%;
    }
    .modal-body table tr>th:nth-child(1){
        width:30%
    }
    @media (max-width: 768px) {
        .card {
            margin-left: 100px;
            margin-right: auto;
            width: auto;
        }

        .card img {
            display: none;
        }

        .card-group {
            text-align: center;
        }
    }
    
</style>
<script>
    $('#memberModal').on('show.bs.modal', function (event) {
        var button = $(event.relatedTarget)
        var name = button.data('name');
        var department = button.data('department');
        var position = button.data('position');
        var phone = button.data('phone');
        var email = button.data('email');
        var photo = button.data('photo');
        var bachelor = button.data('bachelor');
        var master = button.data('master');
        var doctor = button.data('doctor');

        var modal = $(this)
        modal.find('.modal-title').text(name + "\'s Detail")
        modal.find('.modal-body table #name_modaltable ').text(name)
        modal.find('.modal-body table #department_modaltable ').text(department)
        modal.find('.modal-body table #position_modaltable ').text(position)
        modal.find('.modal-body table #phone_modaltable ').text(phone)
        modal.find('.modal-body table #email_modaltable ').text(email)
        modal.find('.modal-body table #photo_modaltable ').text(photo)
        modal.find('.modal-body table #bachelor_modaltable ').html(bachelor)
        modal.find('.modal-body table #master_modaltable ').text(master)
        modal.find('.modal-body table #doctor_modaltable ').text(doctor)

        document.getElementById('photo_modaltable').src = photo;
        modal.find('.modal-body input').val(name)

    })
</script>

<%- include('include/footer.ejs') %>